<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Computational Chemistry Center</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Orbitron', sans-serif;
    }
    html, body {
      height: 100%;
      background: #000;
      overflow-x: hidden;
      color: #e0e0e0;
    }
    body {
      padding-bottom: 160px; /* Increased padding to avoid overlap with taller chat bar */
    }
    header {
      background: transparent;
      padding: 20px;
      text-align: center;
      border-bottom: 2px solid #00f7ff;
      position: relative;
      z-index: 1;
    }
    header h1, header p {
      color: #00f7ff;
      font-size: 2.5rem;
      cursor: default;
    }
    header p {
      font-size: 1.2rem;
      margin-top: 8px;
    }
    nav {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      padding: 15px;
      background: rgba(0, 0, 0, 0.7);
      border-bottom: 1px solid #333;
      position: relative;
      z-index: 1;
    }
    nav a {
      color: #00f7ff;
      text-decoration: none;
      font-weight: bold;
      cursor: default;
    }
    nav a:hover {
      color: #ffffff;
    }
    .container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
      position: relative;
      z-index: 1;
    }
    section {
      margin-bottom: 60px;
    }
    h2 {
      color: #00f7ff;
      margin-bottom: 20px;
      cursor: default;
    }
    footer {
      background: rgba(0, 0, 0, 0.8);
      text-align: center;
      padding: 20px;
      color: #aaa;
      border-top: 1px solid #333;
      position: relative;
      z-index: 1;
    }
    .map {
      width: 100%;
      height: 300px;
      border: none;
    }
    .team-container {
      display: flex;
      overflow-x: auto;
      gap: 30px;
      padding: 20px 0;
    }
    .team-member {
      min-width: 180px;
      background: #222;
      border-radius: 10px;
      text-align: center;
      padding: 20px;
      flex: none;
      border: 2px solid #00f7ff;
      transition: transform 0.3s ease;
    }
    .team-member:hover {
      transform: scale(1.05);
    }
    .team-member img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin-bottom: 10px;
    }
    .team-member p {
      color: #fff;
      margin-top: 10px;
    }
    #innovation {
      text-align: center;
      margin: 60px 0;
    }
    #innovation img {
      width: 300px;
      border-radius: 20px;
      border: 2px solid #00f7ff;
      box-shadow: 0 0 25px rgba(0, 247, 255, 0.7);
      transition: transform 0.5s ease;
    }
    #innovation img:hover {
      transform: scale(1.1);
    }
    .matrix-text {
      color: #00f7ff;
      font-size: 1.2rem;
      padding: 20px;
      margin-top: 30px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid #00f7ff;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);
      white-space: pre-wrap;
      min-height: 150px;
    }
    .glow {
      color: #00f7ff;
      text-shadow: 0 0 5px #00f7ff, 0 0 10px #00f7ff, 0 0 20px #00f7ff;
    }
    .matrix-symbol {
      color: #e5f0e5;
      font-size: 1.5rem;
      display: inline-block;
      margin-left: 10px;
      transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
      opacity: 0.5;
    }
    
    /* --- AI Chat Bar Styles --- */
    .ai-chat-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: rgba(0, 10, 15, 0.85);
        border-top: 2px solid #00f7ff;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        padding: 10px 20px;
        z-index: 1000;
        box-shadow: 0 0 20px rgba(0, 247, 255, 0.5);
        display: flex;
        flex-direction: column; /* Changed to column for suggestions */
        gap: 8px;
    }
    .ai-chat-main {
        display: flex;
        width: 100%;
        align-items: flex-start; /* Align items to the top */
        gap: 15px;
    }
    .ai-chat-display {
        flex-grow: 1;
        color: #fff;
        font-size: 0.9rem;
        white-space: normal; /* Allow text to wrap */
        word-break: break-word; /* Break long words if necessary */
        min-height: 1.2rem; /* Give it a base height to reduce layout shift */
    }
    .ai-chat-display span {
        color: #00f7ff;
        font-weight: bold;
        margin-right: 8px;
    }
    .ai-chat-input {
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid #00f7ff;
        border-radius: 5px;
        color: #fff;
        padding: 8px;
        width: 250px;
        font-family: 'Orbitron', sans-serif;
    }
    .ai-chat-input:focus {
        outline: none;
        box-shadow: 0 0 10px rgba(0, 247, 255, 0.7);
    }
    .ai-chat-send {
        background: #00f7ff;
        color: #000;
        border: none;
        border-radius: 5px;
        padding: 8px 15px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s, color 0.3s;
    }
    .ai-chat-send:hover {
        background: #fff;
        color: #000;
    }
    .ai-suggestion-box {
        display: flex;
        gap: 10px;
        justify-content: center;
        width: 100%;
        flex-wrap: wrap;
    }
    .suggestion-btn {
        background: transparent;
        border: 1px solid #00f7ff;
        color: #00f7ff;
        padding: 4px 10px;
        border-radius: 15px;
        cursor: pointer;
        font-size: 0.8rem;
        transition: background-color 0.3s, color 0.3s;
    }
    .suggestion-btn:hover {
        background: #00f7ff;
        color: #000;
    }
    /* --- End of AI Chat Bar Styles --- */

    @media (max-width: 768px) {
      header h1 {
        font-size: 1.8rem;
      }
      nav {
        flex-direction: column;
        gap: 10px;
      }
      .team-container {
        flex-direction: column;
        align-items: center;
      }
      #innovation img {
        width: 80%;
        max-width: 300px;
      }
      .matrix-text {
        font-size: 1rem;
        padding: 15px;
      }
      .ai-chat-main {
          flex-direction: column;
          gap: 10px;
      }
      .ai-chat-input, .ai-chat-send {
          width: 100%;
      }
      body { padding-bottom: 240px; } /* Increased mobile padding */
    }
  </style>
</head>
<body>
  <header>
    <h1 id="header-title">Computational Chemistry Center</h1>
    <p id="location-text">Zakho University, Zakho, Iraq</p>
  </header>
  <nav>
    <a href="#about">About Us</a>
    <a href="#services">Services</a>
    <a href="#team">Team</a>
    <a href="#contact">Contact</a>
    <a href="#location">Location</a>
  </nav>
  <div class="container">
    <section id="about">
      <h2 id="who-heading">WHO WE ARE</h2>
      <p id="who-text">We are a specialized center at Zakho University focused on computational chemistry and molecular modeling. Our mission is to provide high-quality DFT, molecular dynamics, and cheminformatics solutions for academic and industrial partners.</p>
    </section>
    <section id="services">
      <h2 id="services-heading">Our Services</h2>
      <ul>
        <li id="srv1">Density Functional Theory (DFT) Calculations</li>
        <li id="srv2">Molecular Dynamics Simulations</li>
        <li id="srv3">Drug Discovery & QSAR Modeling</li>
        <li id="srv4">Binding Free Energy Calculations</li>
        <li id="srv5">Custom Computational Projects</li>
      </ul>
    </section>
    <section id="team">
      <h2 id="team-heading">Our Team</h2>
      <div class="team-container">
        <div class="team-member">
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Person 1" />
          <p>Dr. Hyder A A</p>
        </div>
        <div class="team-member">
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Person 2" />
          <p>Dr. Shinwar</p>
        </div>
        <div class="team-member">
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Person 3" />
          <p>Mr. dilzhar S</p>
        </div>
        <div class="team-member">
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Person 4" />
          <p>Dev . Nihad R</p>
        </div>
        <div class="team-member">
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Ahmad KH" />
          <p>Ahmad KH</p>
        </div>
      </div>
    </section>
    <section id="innovation">
      <h2>Our Innovation</h2>
      <img src="idea.gif" alt="Innovative Idea" />
      <div
        class="matrix-text"
        id="matrix-effect"
        data-text="At TCCG, we specialize in advanced molecular dynamics simulations to unlock molecular mechanisms at the nanoscale. Our work accelerates drug discovery, protein-ligand binding analysis, and computational insight into complex biochemical systems. We empower clients with high-performance computing solutions tailored to real scientific challenges.">
      </div>
    </section>
    <section id="contact">
      <h2>Contact Us <span class="matrix-symbol" id="matrix-symbol">⠿</span></h2>
      <p id="email-text" class="glow">Email: compchem@staff.uoz.edu.krd</p>
      <p id="phone-text" class="glow">Phone: +964 750 2015912</p>
    </section>
    <section id="location">
      <h2>Our Location</h2>
      <p>Zakho University, Zakho, Iraq</p>
      <iframe
        class="map"
        src="https://maps.google.com/maps?q=Zakho%20University&t=&z=13&ie=UTF8&iwloc=&output=embed"
        allowfullscreen>
      </iframe>
    </section>
  </div>
  <footer>
    <p>&copy; 2025 Computational Chemistry Center, Zakho University. All rights reserved.</p>
  </footer>

  <!-- AI Chat Bar -->
  <div class="ai-chat-bar">
      <div class="ai-chat-main">
        <div class="ai-chat-display">
            <span>AI:</span>
            <span id="ai-chat-text">Initializing quantum processor...</span>
        </div>
        <input type="text" id="ai-chat-input" class="ai-chat-input" placeholder="Ask a question...">
        <button id="ai-chat-send" class="ai-chat-send">Send</button>
      </div>
      <div id="ai-suggestion-box" class="ai-suggestion-box">
          <!-- Suggestion buttons will be injected here -->
      </div>
  </div>


  <script>
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

    function matrixEffect(el, finalText, delay = 25, iterations = 3) {
      return new Promise(resolve => {
        let frame = 0;
        const interval = setInterval(() => {
          el.textContent = finalText
            .split("")
            .map((ch, i) => {
              if (i > frame) return " ";
              if (i < frame - iterations) return ch;
              return chars[Math.floor(Math.random() * chars.length)];
            })
            .join("");
          frame++;
          if (frame > finalText.length + iterations) {
            clearInterval(interval);
            el.textContent = finalText;
            resolve();
          }
        }, delay);
      });
    }

    async function runMatrix() {
      await matrixEffect(document.getElementById("who-heading"), "WHO WE ARE", 25);
      await matrixEffect(document.getElementById("who-text"), document.getElementById("who-text").textContent, 10);
      await matrixEffect(document.getElementById("services-heading"), "Our Services", 25);
      await matrixEffect(document.getElementById("srv1"), document.getElementById("srv1").textContent);
      await matrixEffect(document.getElementById("srv2"), document.getElementById("srv2").textContent);
      await matrixEffect(document.getElementById("srv3"), document.getElementById("srv3").textContent);
      await matrixEffect(document.getElementById("srv4"), document.getElementById("srv4").textContent);
      await matrixEffect(document.getElementById("srv5"), document.getElementById("srv5").textContent);
      await matrixEffect(document.getElementById("team-heading"), "Our Team", 25);
    }

    async function animateInnovationText() {
      const innovationDiv = document.getElementById("matrix-effect");
      const text = innovationDiv.getAttribute("data-text");
      await matrixEffect(innovationDiv, text, 10, 3);
    }

    // Blinking matrix symbol
    const matrixSymbol = document.getElementById("matrix-symbol");
    setInterval(() => {
      matrixSymbol.style.opacity = matrixSymbol.style.opacity === "1" ? "0.3" : "1";
    }, 500);

    // --- AI Chat Logic ---
    const chatTextElement = document.getElementById('ai-chat-text');
    const chatInput = document.getElementById('ai-chat-input');
    const chatSendButton = document.getElementById('ai-chat-send');
    const suggestionBox = document.getElementById('ai-suggestion-box');
    let chatterInterval;

    const chatterMessages = [
        "Analyzing molecular orbital overlaps...",
        "Running DFT simulation on caffeine molecule...",
        "Calibrating neural network for QSAR model...",
        "Accessing protein data bank...",
        "Calculating binding affinity for ligand 3B... result: -8.4 kcal/mol.",
        "System nominal. Awaiting user input.",
        "Considering the Schrödinger equation...",
    ];

    const suggestedQuestions = [
        "Who are you?",
        "Email Us",
        "Chat on WhatsApp",
        "What services do you offer?",
    ];

    const responses = {
        "hello": "Hello! How can I assist with your computational chemistry query today?",
        "dft": "Density Functional Theory (DFT) is a powerful quantum mechanical modeling method used to investigate the electronic structure of many-body systems.",
        "services": "We offer a range of services including DFT, Molecular Dynamics, and QSAR Modeling. Please see the 'Our Services' section above for more details.",
        "contact": "You can reach us via the email or phone number listed in the 'Contact Us' section. We look forward to hearing from you.",
        "team": "Our team consists of experts in computational chemistry and software development, dedicated to providing top-tier research solutions.",
        "who": "I am a virtual assistant for the Computational Chemistry Center, designed to answer basic questions about our services and team.",
        "what are you": "I am a virtual assistant for the Computational Chemistry Center.",
        "what you do": "I provide information about our services like DFT calculations, molecular dynamics, and drug discovery. I can also direct you to our contact information.",
        "located": "Our center is located at Zakho University, in Zakho, Iraq. You can find a map in the 'Our Location' section.",
        "where": "Our center is located at Zakho University, in Zakho, Iraq. You can find a map in the 'Our Location' section.",
        "ask": "Yes, of course. Please type your question in the input box, or click one of the suggestions.",
        "question": "Yes, of course. Please type your question in the input box, or click one of the suggestions.",
        "email": "You can click the 'Email Us' button or send a message to compchem@staff.uoz.edu.krd.",
        "chat": "You can click the 'Chat on WhatsApp' button to start a conversation.",
        "whatsapp": "You can click the 'Chat on WhatsApp' button to start a conversation."
    };

    function displaySuggestions() {
        suggestionBox.innerHTML = ''; // Clear existing suggestions
        suggestedQuestions.forEach(q => {
            const btn = document.createElement('button');
            btn.className = 'suggestion-btn';
            btn.textContent = q;
            const qLower = q.toLowerCase();

            if (qLower.includes('email')) {
                btn.onclick = () => {
                    window.location.href = 'mailto:compchem@staff.uoz.edu.krd';
                };
            } else if (qLower.includes('whatsapp')) {
                btn.onclick = () => {
                    // Phone number: +964 750 2015912 -> 9647502015912
                    window.open('https://wa.me/9647502015912', '_blank');
                };
            } else {
                 btn.onclick = () => {
                    chatInput.value = q;
                    handleUserQuery();
                };
            }
            suggestionBox.appendChild(btn);
        });
    }

    function startChatter() {
        let i = 0;
        chatterInterval = setInterval(() => {
            chatTextElement.textContent = chatterMessages[i];
            i = (i + 1) % chatterMessages.length;
        }, 8000); // Changed to 8 seconds
    }

    function stopChatter() {
        clearInterval(chatterInterval);
    }

    function handleUserQuery() {
        const query = chatInput.value.toLowerCase().trim();
        if (!query) return;

        stopChatter(); // Stop the random chatter when user interacts

        let responseFound = false;
        // Check for exact matches first for more specific questions
        for (const key in responses) {
            if (query === key) {
                chatTextElement.textContent = responses[key];
                responseFound = true;
                break;
            }
        }
        // Then check for partial matches
        if (!responseFound) {
            for (const key in responses) {
                if (query.includes(key)) {
                    chatTextElement.textContent = responses[key];
                    responseFound = true;
                    break;
                }
            }
        }

        if (!responseFound) {
            chatTextElement.textContent = "That is a complex query. For detailed questions, please email us at compchem@staff.uoz.edu.krd.";
        }

        chatInput.value = '';

        // Restart the chatter after a delay
        setTimeout(startChatter, 10000); 
    }

    chatSendButton.addEventListener('click', handleUserQuery);
    chatInput.addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            handleUserQuery();
        }
    });

    // --- Original Window Onload Logic + AI Chat Start ---
    window.onload = () => {
      runMatrix().then(() => {
        animateInnovationText();
      });
      startChatter();
      displaySuggestions();
    };
  </script>

  <!-- Vanta.js network effect scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <script>
    VANTA.NET({
      el: document.body,
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 200.00,
      minWidth: 200.00,
      scale: 1.00,
      scaleMobile: 1.00,
      color: 0x00f7ff,
      backgroundColor: 0x000000,
      points: 15.00,
      maxDistance: 14.00,
      spacing: 18.00
    });
  </script>
</body>
</html>
